# 47 分布式系统
## 47.1通信基础
```
如果大量的数据到达路由器或者主机这时候机器没有足够的缓存取存储(数据量太大前面堵塞了很多待处理的消息),这时候机器会将消息丢弃。
需要解决的问题
丢包是基本都网络现象应该如何处理丢包?
```
## 47.2 不可靠通信
```
UDP 虽然不可靠 但是UDP 有cheksum 检查数据包是否被损坏
```
## 47.3可靠的通信层
```
1.ACK 确认机制
2.timeout 超时机制
    数据向对方发送之后开始定时等待确认
    规定时间未等待到确认 可以认定数据丢失
    检查是否还有重试次数
    如果存在重试次数 retry ++
    再次发送同样的数据向对方等待确认消息...... 
    
    如果重试次数不够 关闭连接



note:
  ACK 和 timeout  和 重试 可能发送到消息没有丢失 但是ACK 消息丢失
  发送方也会认为自己的消息丢失在此发送消息这样接收方就接收到了两次同样的消息

3.每条消息有一个标识符(唯一) 用来确认消息是否重复接收(解决 Ack timeout 前面遇到的问题)
    顺序计数器解决


这种可靠的通信协议传输层 实现了该协议  TCP
```
## 47.4 通信抽象
```
构建分布式系统应该使用什么抽象通信？

```